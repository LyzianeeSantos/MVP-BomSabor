<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bom Sabor - Restaurante</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav class="top-bar">
            <div class="menu">
                <div class="logo">üçΩÔ∏è</div>
                <span class="table-info">Mesa 29</span>
                <div class="search-container">
                    <input type="text" placeholder="Buscar" class="search-bar">
                    <i class="fas fa-search search-icon"></i>
                </div>
                <button class="call-button" onclick="callWaiter()"><i class="fas fa-bell"></i> Chamar Gar√ßom</button>
                <button class="account-button" onclick="openAccount()"><i class="fas fa-user"></i> Minha Conta</button>
                <button class="cart-button" onclick="openCart()"><i class="fas fa-shopping-cart"></i> Carrinho de Compras</button>
            </div>
        </nav>
    </header>

    <main>
        <section class="products-section">
            <h2>Produtos</h2>
            <div class="products-container">
                <!-- Produtos -->
                <div class="product-card" onclick="showProductDetail('Hamb√∫rguer Cl√°ssico', 'hamburguer.webp', 'Delicioso hamb√∫rguer com queijo, alface e tomate', 24.90)">
                    <img src="hamburguer.webp" alt="Hamb√∫rguer Cl√°ssico" class="product-img">
                    <div class="product-info">
                        <h3>Hamb√∫rguer Cl√°ssico</h3>
                        <span class="price">R$ 24,90</span>
                    </div>
                </div>
                <div class="product-card" onclick="showProductDetail('Hamb√∫rguer Cheddar', 'lanche 5.jpg', 'Hamb√∫rguer com queijo cheddar e cebola caramelizada', 29.90)">
                    <img src="lanche 5.jpg" alt="Hamb√∫rguer Cheddar" class="product-img">
                    <div class="product-info">
                        <h3>Hamb√∫rguer Cheddar</h3>
                        <span class="price">R$ 29,90</span>
                    </div>
                </div>
                <div class="product-card" onclick="showProductDetail('Hamb√∫rguer BBQ', 'lanche 4.jpg', 'Hamb√∫rguer com molho barbecue e bacon', 32.90)">
                    <img src="lanche 4.jpg" alt="Hamb√∫rguer BBQ" class="product-img">
                    <div class="product-info">
                        <h3>Hamb√∫rguer BBQ</h3>
                        <span class="price">R$ 32,90</span>
                    </div>
                </div>
                <div class="product-card" onclick="showProductDetail('Hamb√∫rguer Vegano', 'lanche 3.webp', 'Hamb√∫rguer vegano com gr√£o-de-bico e especiarias', 27.90)">
                    <img src="lanche 3.webp" alt="Hamb√∫rguer Vegano" class="product-img">
                    <div class="product-info">
                        <h3>Hamb√∫rguer Vegano</h3>
                        <span class="price">R$ 27,90</span>
                    </div>
                </div>
                <div class="product-card" onclick="showProductDetail('Hamb√∫rguer Duplo', 'lanche 2.webp', 'Dois hamb√∫rgueres suculentos com todos os acompanhamentos', 39.90)">
                    <img src="lanche 2.webp" alt="Hamb√∫rguer Duplo" class="product-img">
                    <div class="product-info">
                        <h3>Hamb√∫rguer Duplo</h3>
                        <span class="price">R$ 39,90</span>
                    </div>
                </div>
                <div class="product-card" onclick="showProductDetail('Brownie com Sorvete', 'sobremesa.webp', 'Brownie de chocolate com sorvete de baunilha', 14.90)">
                    <img src="sobremesa.webp" alt="Brownie com Sorvete" class="product-img">
                    <div class="product-info">
                        <h3>Brownie com Sorvete</h3>
                        <span class="price">R$ 14,90</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="product-detail-section" id="product-detail">
            <h2>Detalhes do Produto</h2>
            <div class="product-detail-content" id="product-detail-content">
                <p>Selecione um produto para ver os detalhes</p>
            </div>
        </section>

        <!-- Modal do Carrinho de Compras -->
        <div class="cart-modal" id="cart-modal">
            <div class="cart-modal-content">
                <span class="close" onclick="closeCart()">&times;</span>
                <h2>Carrinho de Compras</h2>
                <div id="cart-items">
                    <p>Seu carrinho est√° vazio.</p>
                </div>
                <div class="cart-total">
                    <span>Total:</span>
                    <span id="cart-total-price">R$ 0,00</span>
                </div>
                <button class="checkout-button" onclick="finalizeOrder()">Finalizar Pedido</button>
            </div>
        </div>

        <!-- Popup de Chamar Gar√ßom -->
        <div class="popup" id="popup">
            <div class="popup-content">
                <i class="fas fa-check-circle check-icon"></i>
                <p>Gar√ßom chamado com sucesso!</p>
                <span class="close-popup" onclick="closePopup()">‚úñ</span>
            </div>
        </div>

        <!-- Minha Conta -->
        <div class="account-modal" id="account-modal">
            <div class="account-modal-content">
                <span class="close" onclick="closeAccount()">&times;</span>
                <h2>Minha Conta</h2>
                <div id="account-info">
                    <p>Nenhuma compra registrada.</p>
                </div>
            </div>
        </div>
    </main>

    <script>
        let cart = [];
        let orders = []; // Array para armazenar os pedidos finalizados

        function showProductDetail(name, imgSrc, description, price) {
            const detailSection = document.getElementById("product-detail-content");
            detailSection.innerHTML = `
                <img src="${imgSrc}" alt="${name}" class="product-detail-img">
                <div class="product-detail-info">
                    <h3>${name}</h3>
                    <p>${description}</p>
                    <span class="price">R$ ${price.toFixed(2)}</span>
                    <button class="add-to-cart" onclick="addToCart('${name}', ${price})">Adicionar ao Carrinho</button>
                </div>
            `;
        }

        function addToCart(productName, price) {
            cart.push({ name: productName, price });
            alert(`${productName} foi adicionado ao carrinho!`);
        }

        function openCart() {
            const cartItemsContainer = document.getElementById("cart-items");
            cartItemsContainer.innerHTML = "";

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = "<p>Seu carrinho est√° vazio.</p>";
            } else {
                let total = 0;
                cart.forEach(item => {
                    const itemElement = document.createElement("div");
                    itemElement.classList.add("cart-item");
                    itemElement.innerHTML = `
                        <span>${item.name}</span>
                        <span>R$ ${item.price.toFixed(2)}</span>
                    `;
                    cartItemsContainer.appendChild(itemElement);
                    total += item.price;
                });
                document.getElementById("cart-total-price").textContent = `R$ ${total.toFixed(2)}`;
            }

            document.getElementById("cart-modal").style.display = "flex";
        }

        function closeCart() {
            document.getElementById("cart-modal").style.display = "none";
        }

        function callWaiter() {
            document.getElementById("popup").style.display = "flex";
            setTimeout(() => {
                closePopup();
            }, 3000); // Fecha o popup ap√≥s 3 segundos
        }

        function closePopup() {
            document.getElementById("popup").style.display = "none";
        }

               function finalizeOrder() {
            if (cart.length === 0) {
                alert("Seu carrinho est√° vazio! Adicione produtos antes de finalizar o pedido.");
                return;
            }

            // Salvar a ordem na conta
            orders.push([...cart]); // Adiciona uma c√≥pia do carrinho √†s ordens finalizadas
            cart = []; // Limpa o carrinho ap√≥s finalizar o pedido
            alert("Seu pedido foi finalizado com sucesso!");

            // Atualizar informa√ß√µes da conta
            updateAccountInfo();
            closeCart();
        }

        function updateAccountInfo() {
            const accountInfoContainer = document.getElementById("account-info");
            accountInfoContainer.innerHTML = "";

            if (orders.length === 0) {
                accountInfoContainer.innerHTML = "<p>Nenhuma compra registrada.</p>";
            } else {
                orders.forEach((order, index) => {
                    const orderElement = document.createElement("div");
                    orderElement.classList.add("order");
                    orderElement.innerHTML = `<h4>Pedido ${index + 1}:</h4>`;
                    
                    let total = 0;
                    order.forEach(item => {
                        const itemElement = document.createElement("div");
                        itemElement.classList.add("order-item");
                        itemElement.innerHTML = `${item.name} - R$ ${item.price.toFixed(2)}`;
                        orderElement.appendChild(itemElement);
                        total += item.price;
                    });

                    const totalElement = document.createElement("div");
                    totalElement.classList.add("order-total");
                    totalElement.innerHTML = `<strong>Total: R$ ${total.toFixed(2)}</strong>`;
                    orderElement.appendChild(totalElement);
                    accountInfoContainer.appendChild(orderElement);
                });
            }
        }

        function openAccount() {
            updateAccountInfo(); // Atualiza as informa√ß√µes da conta ao abrir
            document.getElementById("account-modal").style.display = "flex";
        }

        function closeAccount() {
            document.getElementById("account-modal").style.display = "none";
        }
    </script>

    <style>
        /* Adicione estilos para a conta e o pedido */
        .account-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }

        .account-modal-content {
            background-color: white;
            position: relative;
            padding: 20px;
            border-radius: 5px;
            width: 400px;
        }

        .order {
            margin: 10px 0;
        }

        .order-item {
            margin-left: 10px;
        }

        .order-total {
            font-weight: bold;
        }

        
    </style>
</body>
</html>
